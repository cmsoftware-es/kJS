var UI=UI||{Ajax:{},Base64:{},KeyUpDelay:600,KeyUpTimer:null,ProgressImg:null,Browser:{ID:0,SupportsHTML5:false},Browsers:{IE:0,Chrome:1,Firefox:2,Safari:3,Opera:4,Android:5,BlackBerry:6,IEMobile:7,OperaMini:8,OperaMobile:9,SymbianS60:10,Konqueror:11,IE10:12,IE9:13,IE8:14,IE7:15,IE6:16},Theme:{}},Theme_red={Name:"red",Colors:{Base:"#B72727",Dark:"#B72727",Light:"#f74f4f",Highlight:"#f74f4f"},Font:{Size:"10pt",Color:"black",Weight:"normal"},TextBox:{Border:{Color:"#c31b1b",Width:"1px",Style:"solid",Radius:"3px"}},Button:{Font:{Color:"#c31b1b",Weight:"bold",Size:"10pt"}},Panel:{Image:"'/gradient-red-64.png'"},Grid:{Border:{Color:"#f34b4b",Width:"1px",Style:"solid"},PageNavigator:{Font:{Size:"9pt",Color:"#B72727"},CurrentPage:{Font:{Size:"12pt",Color:"#E72727",Weight:"normal"}}},Background:"#FEB9B9",SearchBox:{Size:50},Header:{Font:{Color:"white",Weight:"bold",Size:"9pt"},Background:"#960505",Image:"'/gradient-red-24.png'"}}},Theme_marine={Name:"marine",Colors:{Base:"#31889E",Dark:"#31889E",Light:"#A8D8E3",Highlight:"#BEE5EF"},Font:{Size:"10pt",Color:"black",Weight:"normal"},TextBox:{Border:{Color:"#31889E",Width:"1px",Style:"solid",Radius:"3px"}},Button:{Font:{Color:"#31889E",Weight:"bold",Size:"10pt"}},Panel:{Image:"'/gradient-marine-64.png'"},Grid:{Border:{Color:"#A8D8E3",Width:"1px",Style:"solid"},PageNavigator:{Font:{Size:"9pt",Color:"#31889E"},CurrentPage:{Font:{Size:"12pt",Color:"#31889E",Weight:"normal"}}},Background:"#DCECFF",SearchBox:{Size:50},Header:{Font:{Color:"white",Weight:"bold",Size:"9pt"},Background:"#31889E",Image:"'/gradient-marine-24.png'"}}};UI.Theme=Theme_marine;function PageManager(a){this.CurrentPage=-1;this.PageCount=0;this.Direction=">";this.Filter="";this.RowsPerPage=500;if(a&&(typeof a!="undefined")){this.RowsPerPage=a}}function DataSet(e,d,a,g,c,h){var f;this._tempData=null;this._sortType=1;this._lastSortField="";this.Data=null;this.RowCount=0;this.PageManager=new PageManager(g);this.OnNavigate=c;this.Grid=null;this.FromRow=0;this.ToRow=0;this.Name=a;this.Loading=false;this.Entity=d;this.FilterValue="";var b=this;if(h&&(typeof h!="undefined")){f=UI.Ajax.Get(e,function(i){b.Open(i);h(b)})}else{f=UI.Get(e);this.Open(f)}}DataSet.prototype.Open=function(request){this.Data=eval("("+request.responseText+")");this.UpdateRowCount()};DataSet.prototype.UpdateRowCount=function(){this.RowCount=this.Data[this.Entity].length;this.PageManager.PageCount=(this.RowCount/this.PageManager.RowsPerPage)|0;if(this.RowCount%this.PageManager.RowsPerPage>0){this.PageManager.PageCount++}};DataSet.prototype.CheckPage=function(d,c){if(this.Loading){return false}if((!c)&&(this.PageManager.CurrentPage==d)){return false}this.PageManager.Direction=">";if(d<this.PageManager.CurrentPage){this.PageManager.Direction="<="}if(d<=1){d=1;this.PageManager.Filter=""}this.UpdateRowCount();if(d>this.PageManager.PageCount){d=this.PageManager.PageCount}if(d<=0){d=1}this.PageManager.CurrentPage=d;this.FromRow=((this.PageManager.CurrentPage-1)*this.PageManager.RowsPerPage)+1;this.ToRow=this.PageManager.CurrentPage*this.PageManager.RowsPerPage;if(this.ToRow>this.RowCount){this.ToRow=this.RowCount}var a=UI.$$("#"+this.Name+"-RowInfo");if(a){a.innerHTML=this.RowInfo()}var b=UI.$$("#"+this.Name+"-PageNavigator");if(b){b.innerHTML=this.PageNavigator()}this.Loading=true;return true};DataSet.prototype.RowInfo=function(){return"PÃ¡g. <b>"+this.PageManager.CurrentPage+"</b> de "+this.PageManager.PageCount+" (reg."+this.FromRow+".."+this.ToRow+"/"+this.RowCount+")"};DataSet.prototype.PageNavigator=function(){var b="";var a;for(a=1;a<this.PageManager.PageCount+1;a++){if(a==this.PageManager.CurrentPage){b+='<a style="color:'+UI.Theme.Grid.PageNavigator.CurrentPage.Font.Color+";font-size:"+UI.Theme.Grid.PageNavigator.CurrentPage.Font.Size+';font-weight:bold;text-shadow: 0 0 0.5em #999, 0 0 0.5em #999, 0 0 0.5em #999;" href="javascript:'+this.Name+".GotoPage("+a+')" >'+a+"</a>&nbsp;&nbsp;"}else{b+='<a style="color:'+UI.Theme.Grid.PageNavigator.Font.Color+";font-size:"+UI.Theme.Grid.PageNavigator.Font.Size+'" href="javascript:'+this.Name+".GotoPage("+a+')" >'+a+"</a>";if(a<this.PageManager.PageCount){b+="&nbsp;&nbsp;"}}}return b};DataSet.prototype.Next=function(){try{if(!this.CheckPage(this.PageManager.CurrentPage+1)){return}this.FireOnNavigate();this.Loading=false}catch(a){this.Loading=false;throw a.message}};DataSet.prototype.Prior=function(){try{if(!this.CheckPage(this.PageManager.CurrentPage-1)){return}this.FireOnNavigate();this.Loading=false}catch(a){this.Loading=false;throw a.message}};DataSet.prototype.First=function(){try{if(!this.CheckPage(1)){return}this.FireOnNavigate();this.Loading=false}catch(a){UI.Loading=false;throw a.message}};DataSet.prototype.Last=function(){try{if(!this.CheckPage(this.PageManager.PageCount)){return}this.FireOnNavigate();this.Loading=false}catch(a){this.Loading=false;throw a.message}};DataSet.prototype.GotoPage=function(a){try{if(!this.CheckPage(a)){return}this.FireOnNavigate();this.Loading=false}catch(b){this.Loading=false;throw b.message}};DataSet.prototype.FindWord=function(d,b){var c,a;for(c in d){a=d[c].toLowerCase();if(a.indexOf(b)>=0){return true}}return false};DataSet.prototype.Filter=function(d,a){try{var b;if(a.Grid){b=a.Grid.Node}d=d.toLowerCase();if(a.FilterValue==d){a.Loading=false;return}a.FilterValue=d;clearTimeout(UI.KeyUpTimer);UI.ShowProgress(b);UI.KeyUpTimer=setTimeout(function(){if((!a._tempData)||(typeof a._tempData=="undefined")){a._tempData=UI.CloneObject(a.Data)}if(d==""){a.Data=UI.CloneObject(a._tempData);a._tempData=null;a.CheckPage(1,true);a.FireOnNavigate();a.Loading=false;return}var g,f,h,e;if(a._tempData){a.Data[a.Entity]=[];var k=a._tempData[a.Entity].length;var l=d.split(" ");for(g=k-1;g>=0;g--){h=a._tempData[a.Entity][g];e=true;for(f=l.length-1;f>=0;f--){if(!a.FindWord(h,l[f])){e=false;break}}if(e){a.Data[a.Entity].push(h)}}a.CheckPage(1,true);a.FireOnNavigate();a.Loading=false}},UI.KeyUpDelay);UI.HideProgress(b)}catch(c){a.Loading=false;UI.HideProgress(b)}};DataSet.prototype.Sort=function(d,b){if(this._lastSortField!=d){this._sortType=1;this._lastSortField=d}else{this._sortType=-this._sortType}var a=this._sortType;this.Data[this.Entity].sort(function(f,e){if(typeof f[d]=="number"){return(f[d]>e[d])*a}if(typeof f[d]=="boolean"){return(f[d]>e[d])*a}if((typeof f[d]=="string")||(typeof f[d]=="undefined")){return f[d].localeCompare(e[d])*a}});if(b){var c=b.parentNode;if(c.nodeName!="TR"){c=c.parentNode}$(".sortColASC",c).removeClass("sortColASC");$(".sortColDESC",c).removeClass("sortColDESC");if(a==1){$(b).addClass("sortColASC")}else{$(b).addClass("sortColDESC")}}this.FireOnNavigate()};DataSet.prototype.FireOnNavigate=function(){if((this.OnNavigate)&&(typeof this.OnNavigate!="undefined")){this.OnNavigate(this);return true}return false};UI.Align={Custom:0,Top:1,Bottom:2,Left:3,Right:4,Client:5};UI.Margin={Left:0,Top:0,Right:0,Bottom:0};UI.Padding={Left:0,Top:0,Right:0,Bottom:0};UI.SizeConstraints={MaxWidth:0,MaxHeight:0,MinWidth:0,MinHeight:0};UI.Anchors={Left:0,Top:1,Right:2,Bottom:3};function Control(){this.fElement=null;this.fParent=null;this.fAlign=UI.Align.Custom;this.fLeft=0;this.fTop=0;this.fWidth=0;this.fHeight=0;this.fVisible=true;this.fEnabled=true;this.fMargin=UI.Margin;this.fPadding=UI.Padding;this.fBackground={Color:UI.Theme.Colors.Dark,Image:"",Repeat:"no-repeat",Position:"0% 0%",Attach:"scroll"};this.fCursor="default";this.fFont=UI.Theme.Font;this.fSizeable=false;this.fHint="";this.fzIndex=0;this.fTabOrder=0;this.fTransparency=0;this.fId="";return this}Control.prototype={get Elementfunction(){return this.fElement},get Parentfunction(){return this.fparent},set Parentfunction(a){this.fparent=a},get Alignfunction(){return this.fAlign},set Alignfunction(a){this.fAlign=a},get Leftfunction(){var a=UI.Position(this.fElement);this.fLeft=a[0];return a[0]},set Leftfunction(a){this.fLeft=a},get Topfunction(){var a=UI.Position(this.fElement);this.fTop=a[1];return a[1]},set Topfunction(a){this.fTop=a},get Widthfunction(){return this.fWidth},set Widthfunction(a){this.fWidth=a;if(this.Element){this.Element.style.width=a}},get Heightfunction(){return this.fHeight},set Heightfunction(a){this.fHeight=a;if(this.fElement){this.fElement.style.height=a}},get Visiblefunction(){return this.fVisible},set Visiblefunction(a){this.fVisible=a},get Enabledfunction(){return this.fEnabled},set Enabledfunction(a){this.fEnabled=a},get Marginfunction(){return this.fMargin},set Marginfunction(a){this.fMargin=a},get Paddingfunction(){return this.fPadding},set Paddingfunction(a){this.fPadding=a},get Backgroundfunction(){return this.fBackground},set Backgroundfunction(a){this.fBackground=a},get Cursorfunction(){return this.fCursor},set Cursorfunction(a){this.fCursor=a},get Fontfunction(){return this.fFont},set Fontfunction(a){this.fFont=a},get Sizeablefunction(){return this.fSizeable},set Sizeablefunction(a){this.fSizeable=a},get Hintfunction(){return this.fHint},set Hintfunction(a){this.fHint=a},get ZIndexfunction(){return this.fZIndex},set ZIndexfunction(a){this.fZIndex=a},get TabOrderfunction(){return this.fTabOrder},set TabOrderfunction(a){this.fTabOrder=a},get Transparencyfunction(){return this.fTransparency},set Transparencyfunction(a){this.fTransparency=a},get idfunction(){return this.fId},set idfunction(a){if((!a)||(a.trim()=="")){a="TODO: AUTO ID"}this.fId=a}};Control.prototype.setParent=function(a){if(typeof a=="string"){a=UI.$$(a)}this.Parent=a};UI.Panel=function(d,h,c,a,g,f,e){this.setParent(d);var b;this.id=h;b='<div class="panel" id="'+this.id+'"></div>';$(this.Parent).prepend(b);this.fElement=UI.$$("#"+this.id);this.Align=g;this.Left=f;this.Top=e;this.Width=c;this.Height=a;this.Background.Repeat="repeat-x";this.Background.Image="'/gradient-"+UI.Theme.Name+"-64.png'"};UI.Panel.prototype=new Control();DBGrid.prototype=new Control();function DBGrid(ds,parent,title,cols,selRowCallback,renderCallback,showSearch,showButtons,showRowInfo,showPages){if(typeof parent=="string"){parent=UI.$$(parent)}if(typeof showSearch=="undefined"){showSearch=true}if(typeof showButtons=="undefined"){showButtons=true}if(typeof showRowInfo=="undefined"){showRowInfo=true}if(typeof showPages=="undefined"){showPages=true}if(typeof renderCallback=="undefined"){renderCallback=this.Render}if(typeof selRowCallback!="string"){selRowCallback="SelectRow"}cols=eval("("+cols+")");this.Dataset=ds;this.Columns=cols;this.OnSelectRow=selRowCallback;this.Parent=parent;this.OnRender=renderCallback;var f,html='<div>\n	<div class="grid-navigator">\n';if(showSearch){html+='<label class="label">Buscar </label><input type="text" id="SearchBox" class="text-box" style="border-color:'+UI.Theme.TextBox.Border.Color+"!important;border-width:"+UI.Theme.TextBox.Border.Width+"!important;border-style:"+UI.Theme.TextBox.Border.Style+'!important;" size="'+UI.Theme.Grid.SearchBox.Size+'" onKeyUp="'+ds.Name+".Filter(this.value, "+ds.Name+')"></input>\n'}if(showButtons){html+='<button onclick="'+ds.Name+'.First()" style=""><span style="color:'+UI.Theme.Button.Font.Color+'">|&lt;</span></button>\n<button onclick="'+ds.Name+'.Prior()" style=""><span style="color:'+UI.Theme.Button.Font.Color+'">&lt;&lt;</span></button>\n<button onclick="'+ds.Name+'.Next()" style=""><span style="color:'+UI.Theme.Button.Font.Color+'">&gt;&gt;</span></button>\n<button onclick="'+ds.Name+'.Last()" style=""><span style="color:'+UI.Theme.Button.Font.Color+'">&gt;|</span></button>\n'}if(showRowInfo){html+='<label  class="label" id="'+ds.Name+'-RowInfo"></label>\n'}if(showPages){html+='<div class="grid-page-navigator" id="'+ds.Name+'-PageNavigator"></div>\n'}html+='	</div>\n	<h3 style="padding-top:8px"> '+title+'</h3>\n</div>\n<div class="grid" style="background:'+UI.Theme.Grid.Background+";border-color:"+UI.Theme.Grid.Border.Color+";border-width:"+UI.Theme.Grid.Border.Width+";border-style:"+UI.Theme.Grid.Border.Style;if(showPages||showRowInfo||showButtons||showSearch){html+=";margin-top:20px;"}html+='">\n	<table cellspacing="1px" style="border-color:#31889E" class="grid-header-table">		<tr class="grid-header-bg" style="background-color:'+UI.Theme.Grid.Header.Background+";background-image: url("+UI.Theme.Grid.Header.Image+")!important;color:"+UI.Theme.Grid.Header.Font.Color+";font-weight:"+UI.Theme.Grid.Header.Font.Weight+";font-size:"+UI.Theme.Grid.Header.Font.Size+';">';var w,i,col;for(i=0;i<cols.length;i++){col=cols[i];w=col.width;if(col.titleWidth){w=col.titleWidth}html+="<th align="+col.align+' width="'+w+'"><a id="c'+col.field.replace(/\s/g,"")+'" onclick="'+ds.Name+".Sort('"+col.field+"', this)\">"+col.title+"</a></th>\n"}html+='		</tr>\n	</table>\n	<div class="Scrollable" style="height:expression(this.scrollHeight > 307 ? 308px : auto );max-height: 308px">\n		<table id="grid-'+ds.Name+'" class="grid-content-table">\n		</table>\n	</div>\n</div>';parent.innerHTML=html;this.Name="#grid-"+ds.Name;this.Node=UI.$$(this.Name);this.Dataset.Grid=this;f=cols[0].field.replace(/\s/g,"");$("#c"+f).addClass("sortColASC");this.Dataset._lastSortField=cols[0].field;if(typeof this.Dataset.OnNavigate=="undefined"){this.Dataset.OnNavigate=this.OnRender}return this}DBGrid.prototype.Render=function(l){var n;try{if(this.Grid){n=this.Grid.Node}var c,h,g,a,b,d;var f=false;UI.ShowProgress(n);f=UI.PrepareGrid(n,this);a=0;for(h=this.FromRow-1;h<this.ToRow;h++){if(f){c=n.insertRow(a)}else{c=n.rows[a]}a++;for(g=0;g<this.Grid.Columns.length;g++){d=this.Grid.Columns[g];b=UI.SetCell(g,f,c,this.Data[this.Entity][h][d.field],d.align,d.width)}c.setAttribute("onmouseover","UI.ChangeColor(this, true)");c.setAttribute("onmouseout","UI.ChangeColor(this, false)");c.setAttribute("onclick",this.Grid.OnSelectRow+"("+this.Name+", "+h+")");if((h+1)%2==0){c.style.background=UI.Theme.Grid.Background}else{c.style.background="white"}}UI.HideProgress(n)}catch(k){UI.HideProgress(n);var m=n.insertRow(0).insertCell(0);m.innerHTML="Error al cargar los datos: "+k.toString();m.style.color="red"}};UI.Ajax.Request=function(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest()}else{if(window.ActiveXObject){var a=["Microsoft.XmlHttp","MSXML2.XmlHttp","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.5.0"];var b;for(b=a.length-1;b>=0;b--){try{httpObj=new ActiveXObject(a[b]);return httpObj}catch(c){}}}}throw new Error("XMLHttp (AJAX) not supported")};UI.Ajax.Get=function(a,c){var b=UI.Ajax.Request();b.open("GET",a,true);b.send(null);b.onreadystatechange=function(){if(b.readyState==4){c(b)}};return b};UI.Get=function(a){var b=UI.Ajax.Request();b.open("GET",a,false);b.send(null);return b};UI.$$=function(b,a){if((arguments.length<2)||(!a)||(typeof a=="undefined")){a=document}if(b.slice(0,1)=="#"){return a.getElementById(b.replace("#",""))}else{if(b.slice(0,1)=="."){return a.getElementsByClassName(b.replace(".",""))}else{if(b.slice(0,1)=="@"){return a.getElementsByName(b)}else{return a.getElementsByTagName(b)}}}};UI.ChangeColor=function(a,b){if(b){a.setAttribute("OriginalColor",a.style.backgroundColor);a.style.backgroundColor=UI.Theme.Colors.Highlight}else{a.style.backgroundColor=a.getAttribute("OriginalColor")}};UI.ShowProgress=function(a){if(this.ProgressImg){this.ProgressImg.style.display="block"}if(a){a.style.display="none"}document.body.style.cursor="wait"};UI.HideProgress=function(a){if(this.ProgressImg){this.ProgressImg.style.display="none"}if(a){if(a.nodeName.toLowerCase()=="table"){a.style.display="table"}else{a.style.display="block"}}document.body.style.cursor="default"};UI.ClearTable=function(b){var a=b.getElementsByTagName("tbody");if(a.parentNode){a.parentNode.removeChild(a)}while(b.rows.length>0){b.deleteRow(0)}};UI.FindOnGrid=function(a,b){try{clearTimeout(this.KeyUpTimer);this.ShowProgress(b);this.KeyUpTimer=setTimeout(function(){var e=a.value.toLowerCase();var j=b.rows;var h,g,d;if(j){var k=j.length-1;for(d=k;d>=0;d--){g=j[d];h=g.getAttribute("ST");if(h.indexOf(e)>=0){g.style.display="table-row"}else{g.style.display="none"}}}},this.KeyUpDelay);this.HideProgress(b)}catch(c){this.HideProgress(b)}};UI.ParseDate=function(b){if((b)&&(b.length>16)){var a=b.slice(11);if(a[1]==":"){a="0"+a}if(a.length>5){a=a.slice(0,5)}return b.slice(0,10)+" "+a}else{if(b==="undefined"){return this.Now(false)}else{if(b.length<12){b=b+" 00:00"}return b}}};UI.Combo=function(g,f,b){var c=this;c.h=f;c.l=b;c.inp=document.getElementById(g);c.hasfocus=false;c.sel=-1;c.ul=c.inp.nextSibling;while(c.ul.nodeType==3){c.ul=c.ul.nextSibling}c.inp.style.zindex=0;var a=c.inp.style.width;if(a.indexOf("px")>-1){a=a.slice(0,-2);var e=parseInt(a);e=e-3;a=e+"px"}else{a=a-3}c.ul.style.width=a;c.ul.style.right="3px";c.list=c.ul.getElementsByTagName("li");c.ul.onmouseover=function(){c.ul.className=""};c.ul.onmouseout=function(){c.ul.className="focused";if(!c.hasfocus){c.ul.style.display="none"}};var d;for(d=c.list.length-1;d>=0;d--){c.list[d].style.cursor="pointer";c.list[d].onclick=function(){c.inp.value=this.firstChild.data;c.rset(c);UI.PutInternalCode(c.inp)};c.list[d].onmouseover=function(){this.style.backgroundColor=c.h};c.list[d].onmouseout=function(){this.style.backgroundColor=c.l}}c.inp.onfocus=function(){c.ul.style.display="block";c.ul.className="focused";c.hasfocus=true;c.sel=-1;UI.PutInternalCode(c.inp)};c.inp.onblur=function(){if(c.ul.className=="focused"){c.rset(c)}c.ul.className="";c.hasfocus=false;UI.PutInternalCode(c.inp)};c.inp.onchange=UI.PutInternalCode(c.inp);c.inp.onkeyup=function(m){var h=(m)?m.keyCode:event.keyCode;if(h==40||h==13){if(c.sel==c.list.length-1){c.list[c.sel].style.backgroundColor=c.l;c.sel=-1}if(c.sel>-1){c.list[c.sel].style.backgroundColor=c.l}c.inp.value=c.list[++c.sel].firstChild.data;c.list[c.sel].style.backgroundColor=c.h}else{if(h==38&&c.sel>0){c.list[c.sel].style.backgroundColor=c.l;c.inp.value=c.list[--c.sel].firstChild.data;c.list[c.sel].style.backgroundColor=c.h}else{if(((h>47)&&(h<91))||((h>95)&&h(h<112))||(h==8)){var l,j;v=c.inp.value.toLowerCase();for(j=c.list.length-1;j>=0;j--){l=c.list[j];s=l.firstChild.data.toLowerCase();if(s.indexOf(v)<0){l.style.display="none"}else{l.style.display="block"}}}}}return false};c.inp.setAttribute("autocomplete","off")};UI.Now=function(e){var f=new Date();var g=f.getDate();var b=f.getMonth()+1;var d=f.getHours();var a=f.getMinutes();var j=f.getSeconds();var c=f.getFullYear();if(typeof e=="undefined"){e=true}if(g<10){g="0"+g}if(b<10){b="0"+b}if(d<10){d="0"+d}if(a<10){a="0"+a}if(j<10){j="0"+j}if(e){j=":"+j}else{j=""}var i=g+"/"+b+"/"+c+" "+d+":"+a+j;return i};UI.PrepareURL=function(a){return encodeURI(a)};UI.GetURLParam=function(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="[\\?&]"+b+"=([^&#]*)";var d=new RegExp(a);var c=d.exec(window.location.href);if(c==null){return""}else{return c[1]}};UI.Position=function(c){var a=0;var b=0;if(c.offsetParent){do{a+=c.offsetLeft;b+=c.offsetTop}while(c=c.offsetParent);return[a,b]}};UI.CheckRequiredFields=function(){Ctrls=this.$$(".required");var a;for(a=0;a<Ctrls.length;a++){if(Ctrls[a].nodeName.toLowerCase()=="input"){if(Ctrls[a].value.trim()==""){var c=document.createElement("div");c.style.position="absolute";var b=this.Position(Ctrls[a]);if(b[0]){c.style.left=b[0]+"px"}if(b[1]){c.style.top=(b[1]+18)+"px"}c.style.zIndex="200";c.setAttribute("class","InfoBalloon error");c.innerHTML="<span style='color:green'>El campo "+Ctrls[a].title+" es obligatorio</span>";document.body.appendChild(c);setTimeout(function(){$(".InfoBalloon").remove()},5000);return false}}}return true};UI.CheckStatus=function(){var a=this.$$("#Status");try{a.style.display="none"}catch(c){}var b=unescape(this.GetURLParam("Status"));if(b.length>0){if(b.toLowerCase().indexOf("error")<0){a.style.color="green"}else{a.style.color="red"}try{a.style.marginLeft=this.$$("#content").style.marginLeft}catch(c){}$("#Status").show("slow");a.innerHTML=b;setTimeout(function(){$("#Status").hide(1000)},6000)}};UI.PutInternalCode=function(c){var a=c.value.indexOf("-");if(a>0){var b=c.value.slice(0,a).trim();c.setAttribute("_code",b)}};UI.XML=function(b){var a=b.replace("&","&amp;");a=a.replace("'","&apos;");a=a.replace('"',"&quot;");a=a.replace("<","&lt;");a=a.replace(">","&gt;");return a};UI.Base64.GetImage=function(b){var c=document.createElement("canvas");c.width=b.width;c.height=b.height;var a=c.getContext("2d");a.drawImage(b,0,0);var d=c.toDataURL("image/png");return d.replace(/^data:image\/(png|jpg);base64,/,"")};UI.PreviewImage=function(c,b){var f=c.files;if(!f.length){alert("Please select a file!");return}var e=f[0];var g=0;var d=e.size-1;var a=new FileReader();a.onloadend=function(h){if(h.target.readyState==FileReader.DONE){b.src=h.target.result}};if(e.webkitSlice){e=e.webkitSlice(g,d+1)}else{if(e.mozSlice){e=e.mozSlice(g,d+1)}}a.readAsDataURL(e)};UI.GetBrowser=function(){if(navigator.userAgent.toLowerCase().indexOf("msie")>-1){this.Browser.ID=this.Browsers.IE}if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){this.Browser.ID=this.Browsers.Chrome}if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){this.Browser.ID=this.Browsers.Firefox}if(navigator.userAgent.toLowerCase().indexOf("safari")>-1){this.Browser.ID=this.Browsers.Safari}if(navigator.userAgent.toLowerCase().indexOf("opera")>-1){this.Browser.ID=this.Browsers.Opera}if(navigator.userAgent.toLowerCase().indexOf("android")>-1){this.Browser.ID=this.Browsers.Android}if(navigator.userAgent.toLowerCase().indexOf("blackberry")>-1){this.Browser.ID=this.Browsers.BlackBerry}if(navigator.userAgent.toLowerCase().indexOf("iemobile")>-1){this.Browser.ID=this.Browsers.IEMobile}if(navigator.userAgent.toLowerCase().indexOf("opera mini")>-1){this.Browser.ID=this.Browsers.OperaMini}if(navigator.userAgent.toLowerCase().indexOf("opera mobi")>-1){this.Browser.ID=this.Browsers.OperaMobile}if(navigator.userAgent.toLowerCase().indexOf("symbianos")>-1){this.Browser.ID=this.Browsers.OperaMobile}if(navigator.userAgent.toLowerCase().indexOf("konqueror")>-1){this.Browser.ID=this.Browsers.Konqueror}if(navigator.userAgent.toLowerCase().indexOf("msie 10")>-1){this.Browser.ID=this.Browsers.IE10}if(navigator.userAgent.toLowerCase().indexOf("msie 9")>-1){this.Browser.ID=this.Browsers.IE9}if(navigator.userAgent.toLowerCase().indexOf("msie 8")>-1){this.Browser.ID=this.Browsers.IE8}if(navigator.userAgent.toLowerCase().indexOf("msie 7")>-1){this.Browser.ID=this.Browsers.IE7}if(navigator.userAgent.toLowerCase().indexOf("msie 6")>-1){this.Browser.ID=this.Browsers.IE6}this.Browser.SupportsHTML5=((this.Browser.ID==this.Browsers.Firefox)||(this.Browser.ID==this.Browsers.Chrome)||(this.Browser.ID==this.Browsers.IE10)||(this.Browser.ID==this.Browsers.Safari)||(this.Browser.ID==this.Browsers.Opera)||(this.Browser.ID==this.Browsers.Android));return this.Browser.ID};UI.IsBrowser=function(a){return(this.GetBrowser()==a)};UI.IsIE=function(){return navigator.userAgent.toLowerCase().indexOf("msie")>-1};UI.Combo.prototype.rset=function(a){a.ul.style.display="none";a.sel=-1;var b;for(b=a.list.length-1;b>=0;b--){a.list[b].style.backgroundColor=a.l}return false};UI.SetCell=function(e,b,g,f,d,c){var j=(b?g.insertCell(e):g.cells[e]);j.innerHTML=f;j.align=d;j.width=c;return j};UI.GetSearchText=function(a){return a.innerHTML.length>0?"["+a.innerHTML+"]":""};UI.PrepareGrid=function(a,c){var b=false;if(a.rows.length!=c.ToRow-(c.FromRow-1)){b=true;this.ClearTable(a)}return b};UI.CloneObject=function(b){var a=$.extend(true,{},b);return a};UI.ExtractFileName=function(a){return a.replace(/^.*[\\\/]/,"")};